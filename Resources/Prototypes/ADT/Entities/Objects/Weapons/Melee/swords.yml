- type: entity
  name: Cursed katana
  parent: BaseItem
  id: ADTKatanacursed
  description: Ancient craftwork made with not so ancient plasteel.
  components:
  - type: Sharp
  - type: Unremoveable
  - type: Tag
    tags:
    - Katana
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/katana_cursed.rsi
    layers:
    - state: icon-of
      map: [ "enum.ComboWeaponState.State" ]
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 1.3
    damage:
      types:
        Slash: 15
        Structural: 30
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
    range: 2.3
  - type: Item
    sprite: ADT/Objects/Weapons/Melee/katana_cursed.rsi
  - type: DisarmMalus
  - type: GuideHelp
    guides:
    - ADTMartialArts
  - type: ComboWeapon
    swapSound:
      path: /Audio/ADT/Entities/helmet_drop.ogg
    availableMoves:
      - actionsNeeds:
          - OffensiveWideHit
          - OffensiveWideHit
        comboEvent:
          - !type:ComboEffectToStanding
            comboEvents:
            - !type:ComboDamageEffect
              damage:
                types:
                  Slash: 10
            - !type:ComboFallEffect
            - !type:ComboSpawnEffect
              spawnOnTarget: ADTByondCut
            - !type:ComboAudioEffect
              sound:
                path: /Audio/ADT/Entities/Objects/Weapons/Melee/cut.ogg
      - actionsNeeds:
          - ProtectiveWideHit
          - OffensiveHit
          - ProtectiveWideHit
        comboEvent:
          - !type:ComboEffectToStuned
            comboEvents:
            - !type:ComboDamageEffect
              damage:
                types:
                  Slash: 25
            - !type:ComboTrowTargetEffect
              thrownSpeed: 13
          - !type:ComboAudioEffect
            sound:
              collection: SwordHit
      - actionsNeeds:
          - ProtectiveWideHit
          - OffensiveHit
          - ProtectiveHit
        comboEvent:
          - !type:ComboEffectToPulled
            comboEvents:
            - !type:ComboDamageEffect
              damage:
                types:
                  Slash: 15
            - !type:ComboStunEffect
              stunTime: 4
              dropItems: false
          - !type:ComboAudioEffect
            sound:
              collection: SwordHit
      - actionsNeeds:
          - ProtectiveWideHit
          - OffensiveWideHit
        comboEvent:
          - !type:ComboEffectToDowned
            comboEvents:
            - !type:ComboDamageEffect
              damage:
                types:
                  Slash: 20
            - !type:ComboEffectTeleportOnVictim
            - !type:ComboAudioEffect
              sound:
                collection: SwordHit
  - type: GenericVisualizer
    visuals:
      enum.ComboWeaponState.State:
        enum.ComboWeaponState.State:
          True: {state: icon-of}
          False: {state: icon-prot}
  - type: Appearance

- type: entity
  parent: BaseItem
  id: ADTKatanacursedShard
  name: Strange shard
  description: A small box containing a hypopen. Packaging disintegrates when opened, leaving no evidence behind.
  components:
  - type: Sprite
    sprite: ADT/Objects/Specific/cursed_katana_shard.rsi
    state: katana-shard
  - type: SpawnItemsOnUse
    items:
    - id: ADTKatanacursed
    sound:
      path: /Audio/Effects/demon_attack1.ogg

- type: entity
  name: dagger plasma
  parent: BaseKnife
  id: ADTPlasmaDagger
  description: Dogor
  components:
  - type: Construction
    graph: ADTPDagger
    node: ADTCompPlasmaDager
  - type: Tag
    tags:
    - Knife
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/plasmadagger.rsi
    state: icon
  - type: Item
    size: Small
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/plasmadagger.rsi
    inhandVisuals:
      left:
        - state: dagger-inhand-left
      right:
        - state: dagger-inhand-right
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 1.75
    damage:
      types:
        Piercing: 8
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 1
  - type: MeleeChemicalInjector
    solution: melee
  - type: RefillableSolution
    solution: melee
  - type: InjectableSolution
    solution: melee
  - type: SolutionInjectOnEmbed
    transferAmount: 1
    solution: melee
  - type: SolutionTransfer
    maxTransferAmount: 1
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 15
  - type: EmbeddableProjectile
    offset: -0.15,0.0
  - type: ThrowingAngle
    angle: 225
  - type: LandAtCursor

- type: entity
  name: dagger reinforced
  parent: BaseKnife
  id: ADTGlassReinDagger
  description: Dogor
  components:
  - type: Construction
    graph: ADTGRDagger
    node: ADTCompGlassRefDager
  - type: Tag
    tags:
    - Knife
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/reinforceddagger.rsi
    state: icon
  - type: Item
    size: Small
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/reinforceddagger.rsi
    inhandVisuals:
      left:
        - state: dagger-inhand-left
      right:
        - state: dagger-inhand-right
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 1.75
    damage:
      types:
        Piercing: 7
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 1
  - type: MeleeChemicalInjector
    solution: melee
  - type: RefillableSolution
    solution: melee
  - type: InjectableSolution
    solution: melee
  - type: SolutionInjectOnEmbed
    transferAmount: 1
    solution: melee
  - type: SolutionTransfer
    maxTransferAmount: 1
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 12
  - type: EmbeddableProjectile
    offset: -0.15,0.0
  - type: ThrowingAngle
    angle: 225
  - type: LandAtCursor

- type: entity
  name: dagger glass
  parent: BaseKnife
  id: ADTGlassDagger
  description: Dogor
  components:
  - type: Construction
    graph: ADTGDagger
    node: ADTCompGlassDager
  - type: Tag
    tags:
    - Knife
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/glassdagger.rsi
    state: icon
  - type: Item
    size: Small
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/glassdagger.rsi
    inhandVisuals:
      left:
        - state: dagger-inhand-left
      right:
        - state: dagger-inhand-right
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 1.75
    damage:
      types:
        Piercing: 6
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 1
  - type: MeleeChemicalInjector
    solution: melee
  - type: RefillableSolution
    solution: melee
  - type: InjectableSolution
    solution: melee
  - type: SolutionInjectOnEmbed
    transferAmount: 1
    solution: melee
  - type: SolutionTransfer
    maxTransferAmount: 1
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 10
  - type: EmbeddableProjectile
    offset: -0.15,0.0
  - type: ThrowingAngle
    angle: 225
  - type: LandAtCursor

- type: entity
  name: dagger uranium
  parent: BaseKnife
  id: ADTGlassUranDagger
  description: Dogor
  components:
  - type: Construction
    graph: ADTUDagger
    node: ADTCompUranDager
  - type: Tag
    tags:
    - Knife
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/uraniumdagger.rsi
    state: icon
  - type: Item
    size: Small
    sprite: ADT/Objects/Weapons/Melee/makeshitdaggers/uraniumdagger.rsi
    inhandVisuals:
      left:
        - state: dagger-inhand-left
      right:
        - state: dagger-inhand-right
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 1.75
    damage:
      types:
        Piercing: 5
        Radiation: 5
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 1
  - type: MeleeChemicalInjector
    solution: melee
  - type: RefillableSolution
    solution: melee
  - type: InjectableSolution
    solution: melee
  - type: SolutionInjectOnEmbed
    transferAmount: 1
    solution: melee
  - type: SolutionTransfer
    maxTransferAmount: 1
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 9
        Radiation: 9
  - type: EmbeddableProjectile
    offset: -0.15,0.0
  - type: ThrowingAngle
    angle: 225
  - type: LandAtCursor

- type: entity
  name: wooden sword
  parent: BaseItem
  id: ADTWoodenSword
  description: A true robust need training everyday.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/wooden_sword.rsi
    state: icon
  - type: MeleeWeapon
    attackRate: 1.2
    angle: 75
    damage:
      types:
        Blunt: 0.5
    soundHit:
      collection: BoxingHit
  - type: StaminaDamageOnHit
    damage: 12
  #- type: Wieldable
  - type: IncreaseDamageOnWield
    damage:
      types:
        Blunt: 1
  - type: Item
    size: Huge
  - type: DisarmMalus

- type: entity
  name: Bone Machete
  parent: BaseKnife
  id: ADTBoneMachete
  description: A peculiar handmade bone machete. Its handle is wrapped in a cloth band. Hey, is there a jungle here? How grotesque.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/bone_machete.rsi
    state: icon
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 1.5
    damage:
      types:
        Slash: 12
  - type: EmbeddableProjectile
    sound: /Audio/Weapons/star_hit.ogg
    offset: -0.15,0.0
  - type: LandAtCursor
  - type: DamageOtherOnHit
    damage:
      types:
        Slash: 24
  - type: ThrowingAngle
    angle: 225
  - type: Construction
    graph: ADTBMachete
    node: ADTBoneCompMachete

- type: entity
  name: bone sword
  parent: BaseSword
  id: ADTBoneSword
  description: A handmade single-edged bone sword with a fairly wide blade. Its handle is wrapped in a cloth band. How grotesque.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/bone_sword.rsi
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 0.7
    damage:
      types:
        Slash: 20
    soundHit:
      path: /Audio/Weapons/bladeslice.ogg
  - type: Construction
    graph: ADTBSword
    node: ADTBoneCompSword

- type: entity
  name: gladius
  parent: BaseSword
  id: ADTGladius
  description: The old sword of the Roman Empire, it is still good for campaigns against the barbarians on the technical corridors
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/gladius.rsi
  - type: MeleeWeapon
    attackRate: 0.8
    damage:
      types:
        Slash: 24
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: Item

- type: entity
  name: bone longsword
  parent: BaseSword
  id: ADTBoneLongsword
  description: A handmade single-edged bone longsword with a fairly wide blade. Its handle is wrapped in a cloth band. How grotesque.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/bone_longsword.rsi
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 0.6
    damage:
      types:
        Slash: 26
    soundHit:
      path: /Audio/Weapons/bladeslice.ogg
  - type: Construction
    graph: ADTBLongsword
    node: ADTCompBoneLongsword

- type: entity
  name: bone battleaxe
  parent: BaseSword
  id: ADTBoneBattleaxe
  description: A handmade single-edged bone longsword with a fairly wide blade. Its handle is wrapped in a cloth band. How grotesque.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/bone_battleaxe.rsi
  - type: UseDelay
    delay: 1
  - type: MeleeWeapon
    wideAnimationRotation: -135
    attackRate: 0.45
    damage:
      types:
        Slash: 10
    soundHit:
      path: /Audio/Weapons/bladeslice.ogg
  - type: IncreaseDamageOnWield
    damage:
      types:
        Blunt: 25
        Structural: 25
  - type: Wieldable
  - type: Construction
    graph: ADTBBattleaxe
    node: ADTBoneCompBattleaxe

# Самоделки Start
- type: entity
  name: makeshift sword
  parent: [ BaseSword, BaseMinorContraband ]
  id: SwordMakeshift
  description: Some sharp steel affixed to a metal rod, it can hardly be called a sword.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/makeshift_sword.rsi
  - type: MeleeWeapon
    attackRate: 1.25
    damage:
      types:
        Slash: 14
        Structural: 15
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: Item
  - type: DisarmMalus
  - type: Clothing
    sprite: ADT/Objects/Weapons/Melee/makeshift_sword.rsi
    slots:
    - suitStorage
    quickEquip: false
  - type: DamageOnHit
    damage:
      types:
        Blunt: 10
    ignoreResistances: true
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 80
      behaviors:
        - !type:PlaySoundBehavior
          sound:
            path: /Audio/ADT/Weapons/Melee/sundowner.ogg
        - !type:SpawnEntitiesBehavior
            spawn:
              SheetSteel:
                min: 1
                max: 4
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
  - type: Construction
    graph: SwordMakeshiftGraph
    node: sword

- type: entity
  name: improvised sword
  parent: [ BaseSword, BaseMinorContraband ]
  id: SwordImprovised
  description: Not too sharp, but it does the job just fine.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/improvised_sword.rsi
  - type: MeleeWeapon
    attackRate: 1.25
    damage:
      types:
        Slash: 18
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: DamageOnHit
    damage:
      types:
        Blunt: 10
    ignoreResistances: true
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 300
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          path: /Audio/ADT/Weapons/Melee/sundowner.ogg
      - !type:SpawnEntitiesBehavior
          spawn:
            SheetSteel:
              min: 1
              max: 4
      - !type:SpawnEntitiesBehavior
          spawn:
            BladeSteel:
              min: 1
              max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Item
  - type: DisarmMalus
  - type: Clothing
    sprite: ADT/Objects/Weapons/Melee/improvised_sword.rsi
    slots:
    - suitStorage
    quickEquip: false
  - type: Construction
    graph: SwordImprovisedGraph
    node: sword

- type: entity
  name: forged sword
  parent: [ BaseSword, BaseMinorContraband ]
  id: SwordForged
  description: Made with plasteel, a single touch of the blade is enough to draw blood.
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/forged_sword.rsi
  - type: Reflect
    reflectProb: 0.20
    spread: 90
  - type: MeleeWeapon
    attackRate: 1.25
    damage:
      types:
        Slash: 22
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: Item
  - type: DisarmMalus
  - type: Clothing
    sprite: ADT/Objects/Weapons/Melee/forged_sword.rsi
    slots:
    - suitStorage
    quickEquip: false
  - type: Tag
    tags:
    - SwordForged

- type: entity
  name: dawnbreaker
  parent: [ BaseSword, BaseMajorContraband, Welder ]
  id: SwordFlaming
  description: How do you perfect upon perfection? Why, use fire of course! Be the shining light through maints and fight valiantly!
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/dawnbreaker.rsi
    layers:
    - state: icon
    - state: welder_flame
      visible: false
      shader: unshaded
      map: ["enum.ToggleableVisuals.Layer"]
  - type: GenericVisualizer
    visuals:
      enum.ToggleableVisuals.Enabled:
        enum.ToggleableVisuals.Layer:
          True: { visible: true }
          False: { visible: false }
  - type: PointLight
    enabled: false
    radius: 3
  - type: Reflect
    reflectProb: 0.25
    spread: 90
  - type: UseDelay
    delay: 1.0
  - type: SolutionContainerManager
    solutions:
      Welder:
        reagents:
        - ReagentId: WeldingFuel
          Quantity: 80
        maxVol: 80 #uses less fuel than a welder, so this isnt as bad as it looks
  - type: Welder
    fuelConsumption: 3
    fuelLitCost: 10
    tankSafe: false
  - type: ItemToggle
    predictable: false
    soundActivate:
      collection: WelderOn
      params:
        variation: 0.125
        volume: -5
    soundDeactivate:
      collection: WelderOff
      params:
        variation: 0.125
        volume: -5
  - type: ItemToggleMeleeWeapon
    activatedSoundOnHit:
      path: /Audio/Weapons/Guns/Hits/energy_meat1.ogg
      params:
        variation: 0.250
        volume: -10
    activatedSoundOnHitNoDamage:
      path: /Audio/Weapons/Guns/Hits/energy_meat1.ogg
      params:
        variation: 0.250
        volume: -12
    deactivatedSoundOnHitNoDamage:
      path: /Audio/Weapons/bladeslice.ogg
    activatedDamage:
        types:
            Heat: 12
            Slash: 10
  - type: Execution
    doAfterDuration: 3.0
  - type: MeleeWeapon
    attackRate: 0.65
    damage:
      types:
        Slash: 16
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: ComponentToggler
    components:
    - type: IgniteOnMeleeHit
      fireStacks: 3
    - type: Execution
      doAfterDuration: 4.0
  - type: Item
    sprite: ADT/Objects/Weapons/Melee/dawnbreaker.rsi
  - type: DisarmMalus
  - type: Clothing
    sprite: ADT/Objects/Weapons/Melee/dawnbreaker.rsi
    quickEquip: false
    slots:
    - suitStorage
  - type: Construction
    graph: SwordFlamingGraph
    node: sword

- type: entity
  name: tidebreaker
  parent: [ BaseSword, BaseMajorContraband ]
  id: ClaymoreForged
  description: The perfect weapon for an aspiring maints knight!
  components:
  - type: Sprite
    sprite: ADT/Objects/Weapons/Melee/tidebreaker.rsi
  - type: UseDelay
    delay: 2
  - type: MeleeWeapon
    wideAnimationRotation: 180
    attackRate: 0.55
    damage:
      types:
        Slash: 8
        Blunt: 7
        Structural: 5
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: Reflect
    reflectProb: 0.35
    spread: 90
  - type: Wieldable
    useDelayOnWield: true
  - type: IncreaseDamageOnWield #they don't call it an axe for nothing
    damage:
      types:
        Slash: 23
        Blunt: 7
        Structural: 25
  - type: Item
    size: Ginormous
  - type: Clothing
    sprite: ADT/Objects/Weapons/Melee/tidebreaker.rsi
    quickEquip: false
    slots:
    - suitStorage
  - type: DisarmMalus
# End
